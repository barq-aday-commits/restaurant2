<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ø´Ø· Ø§Ù„Ø¹Ø±Ø¨ | ØªØ¬Ø±Ø¨Ø© Ø·Ø¹Ø§Ù… ÙØ±ÙŠØ¯Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #cd7f32; --dark: #121212; --rust: #b7410e; --white: #ffffff; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Tajawal', sans-serif; }
        body { background-color: #f9f9f9; color: var(--dark); overflow-x: hidden; }

        /* Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1541529086526-db283c563270?w=1000');
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; color: white; padding: 20px;
        }
        .hero h1 { font-size: 3.5rem; font-weight: 900; color: var(--gold); margin-bottom: 10px; }
        .hero p { font-size: 1.2rem; margin-bottom: 30px; max-width: 600px; }
        .hero-btn { 
            background: var(--gold); color: white; padding: 15px 40px; 
            border-radius: 50px; text-decoration: none; font-weight: bold; font-size: 1.1rem;
            transition: 0.3s; border: 2px solid var(--gold);
        }
        .hero-btn:hover { background: transparent; }

        /* Ø§Ù„Ù…Ù†ÙŠÙˆ ÙˆÙ‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø£ÙƒÙ„Ø§Øª 30x30 ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ */
        .section-title { text-align: center; padding: 50px 20px 20px; font-size: 2rem; color: var(--rust); }
        .menu-grid {
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* Ù‚ÙˆØ§Ù„Ø¨ ØµØºÙŠØ±Ø© ÙˆÙ…Ø±ØªØ¨Ø© */
            gap: 15px; padding: 20px; max-width: 1200px; margin: 0 auto;
        }
        .food-card {
            background: white; border-radius: 15px; overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: 0.3s;
            display: flex; flex-direction: column; border: 1px solid #eee;
        }
        .food-card img { width: 100%; height: 150px; object-fit: cover; }
        .food-info { padding: 10px; text-align: center; flex-grow: 1; }
        .food-info h3 { font-size: 0.9rem; margin-bottom: 5px; }
        .food-price { color: var(--rust); font-weight: 800; font-size: 1rem; margin-bottom: 10px; display: block; }
        
        .add-to-cart {
            background: var(--dark); color: var(--gold); border: 1px solid var(--gold);
            padding: 8px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 0.8rem;
        }
        .add-to-cart:hover { background: var(--gold); color: white; }

        /* Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª */
        .cart-float {
            position: fixed; bottom: 20px; right: 20px; left: 20px;
            background: var(--dark); color: white; padding: 15px 25px;
            border-radius: 50px; display: none; justify-content: space-between;
            align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 1000;
        }
        .order-btn { background: #25D366; color: white; border: none; padding: 10px 20px; border-radius: 25px; font-weight: bold; cursor: pointer; }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
        .modal {
            position: fixed; top:0; left:0; width:100%; height:100%;
            background: rgba(0,0,0,0.9); display: none; z-index: 2000;
            justify-content: center; align-items: center;
        }
        .modal-content { background: white; padding: 30px; border-radius: 20px; width: 90%; max-width: 400px; }
        .modal-content input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 10px; }

        @media (max-width: 600px) {
            .hero h1 { font-size: 2.5rem; }
            .menu-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; padding: 10px; }
        }
    </style>
</head>
<body>

<section class="hero">
    <h1>Ø´Ø· Ø§Ù„Ø¹Ø±Ø¨</h1>
    <p>Ù†ÙƒÙ‡Ø© Ø¹Ø±Ø§Ù‚ÙŠØ© Ø£ØµÙŠÙ„Ø© ØªØ£Ø®Ø°Ùƒ Ù„Ø¶ÙØ§Ù Ø¯Ø¬Ù„Ø© ÙˆØ§Ù„ÙØ±Ø§Øª. Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨Ø£Ø´Ù‡Ù‰ Ø§Ù„Ù…Ø´Ø§ÙˆÙŠ ÙˆØ§Ù„ÙˆØ¬Ø¨Ø§Øª.</p>
    <a href="#menu" class="hero-btn">Ø§Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</a>
</section>

<section id="menu">
    <h2 class="section-title">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù…</h2>
    <div class="menu-grid" id="food-list">
        <p style="grid-column: 1/-1; text-align: center;">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†ÙƒÙ‡Ø§Øª...</p>
    </div>
</section>

<div class="cart-float" id="cart-bar">
    <div>
        <span id="items-count">0</span> ÙˆØ¬Ø¨Ø§Øª | 
        <span id="total-price" style="color: var(--gold);">0</span> Ø¯.Ø¹
    </div>
    <button class="order-btn" onclick="showForm()">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
</div>

<div class="modal" id="order-modal">
    <div class="modal-content">
        <h3 style="text-align: center; margin-bottom: 15px;">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
        <input type="text" id="user-name" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="tel" id="user-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
        <input type="text" id="user-addr" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„">
        <button class="order-btn" style="width: 100%; padding: 15px;" onclick="sendOrder()">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
        <button onclick="hideForm()" style="background:none; border:none; width:100%; margin-top:10px; color:grey;">Ø±Ø¬ÙˆØ¹</button>
    </div>
</div>

<script>
const _k = '1laj-jG9Q18PIEkUivgsTG_iZN4nrbZsAnLu_9ZuMyk0'; // Ø¢ÙŠØ¯ÙŠ Ø§Ù„Ø´ÙŠØª
const _u = `https://docs.google.com/spreadsheets/d/${_k}/gviz/tq?tqx=out:json`;
const targetPhone = "9647887603449"; // Ø±Ù‚Ù…Ùƒ Ù„Ù„ØªØ¬Ø±Ø¨Ø©

let cart = [];

// Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† ØºÙˆØºÙ„ Ø´ÙŠØª
fetch(_u).then(res => res.text()).then(data => {
    const json = JSON.parse(data.substring(47, data.length - 2));
    const rows = json.table.rows;
    const container = document.getElementById('food-list');
    container.innerHTML = '';

    for (let i = 1; i < rows.length; i++) {
        const c = rows[i].c;
        const item = {
            name: c[0] ? c[0].v : '',
            price: c[2] ? parseFloat(c[2].v) : 0,
            img: c[3] ? c[3].v : ''
        };

        if(item.name) {
            container.innerHTML += `
                <div class="food-card">
                    <img src="${item.img}" alt="${item.name}">
                    <div class="food-info">
                        <h3>${item.name}</h3>
                        <span class="food-price">${item.price} Ø¯.Ø¹</span>
                        <button class="add-to-cart" onclick="addToCart('${item.name}', ${item.price})">+ Ø¥Ø¶Ø§ÙØ©</button>
                    </div>
                </div>`;
        }
    }
});

function addToCart(n, p) {
    cart.push({ n, p });
    updateUI();
}

function updateUI() {
    const total = cart.reduce((s, i) => s + i.p, 0);
    document.getElementById('items-count').innerText = cart.length;
    document.getElementById('total-price').innerText = total;
    document.getElementById('cart-bar').style.display = cart.length > 0 ? 'flex' : 'none';
}

function showForm() { document.getElementById('order-modal').style.display = 'flex'; }
function hideForm() { document.getElementById('order-modal').style.display = 'none'; }

function sendOrder() {
    const name = document.getElementById('user-name').value;
    const phone = document.getElementById('user-phone').value;
    const addr = document.getElementById('user-addr').value;
    const total = cart.reduce((s, i) => s + i.p, 0);

    if(!name || !phone || !addr) { alert("Ù„Ø·ÙØ§Ù‹ØŒ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨"); return; }

    let itemsStr = cart.map(i => `- ${i.n} (${i.p} Ø¯.Ø¹)`).join("\n");
    const message = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹* ğŸ›’\n\n` +
                    `*Ø§Ù„Ø£ØµÙ†Ø§Ù:*\n${itemsStr}\n` +
                    `-------------------\n` +
                    `*Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:* ${total} Ø¯.Ø¹\n\n` +
                    `*Ø§Ù„Ø²Ø¨ÙˆÙ†:* ${name}\n` +
                    `*Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}\n` +
                    `*Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:* ${addr}`;

    window.open(`https://wa.me/${targetPhone}?text=${encodeURIComponent(message)}`);
    cart = []; updateUI(); hideForm();
}
</script>

</body>
</html>
