<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>مطعم شط العرب | طعم الأصالة</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --silver: #f4f4f4;
            --rust: #b7410e;
            --bronze-glow: #cd7f32;
            --white: #ffffff;
            --dark: #1a1a1a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Tajawal, sans-serif; }
        body { background-color: var(--silver); color: var(--dark); line-height: 1.6; }

        header {
            background: linear-gradient(rgba(0,0,0,0.7),rgba(0,0,0,0.7)), url('https://image2url.com/r2/default/images/1769094527262-4bf2ed7c-3883-4409-a8dc-66169d988cfa.jpg');
            background-size: cover; background-position: center;
            height: 35vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; color: #fff; padding: 20px; border-bottom: 4px solid var(--bronze-glow);
        }

        .logo-text { font-size: 2.5rem; font-weight: 800; color: var(--bronze-glow); }
        
        .section-title { 
            text-align: center; padding: 30px 20px 10px; font-size: 1.8rem; 
            color: var(--rust); font-weight: 800; position: relative;
        }
        .section-title::after {
            content: ''; display: block; width: 50px; height: 3px; background: var(--bronze-glow); margin: 10px auto;
        }

        /* نظام الشبكة الذكي - يتغير حسب عدد الأطباق وحجم الشاشة */
        .menu-container {
            display: grid;
            /* تجعل الأطباق تترتب بجانب بعضها وتفتح سطر جديد تلقائياً */
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
            gap: 15px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .menu-card {
            background: #fff; border-radius: 15px; overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: 0.3s; display: flex; flex-direction: column;
            border: 1px solid rgba(0,0,0,0.05);
        }
        .menu-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }

        .menu-card img { width: 100%; height: 130px; object-fit: cover; }

        .card-info { padding: 12px; text-align: center; flex-grow: 1; display: flex; flex-direction: column; }
        .card-info h3 { font-size: 1rem; color: var(--dark); margin-bottom: 5px; font-weight: 700; }
        .card-info p { font-size: 0.75rem; color: #777; margin-bottom: 10px; height: 32px; overflow: hidden; }
        
        .price { 
            font-weight: 800; color: var(--rust); font-size: 1.1rem; 
            margin-top: auto; padding-bottom: 10px; display: block;
        }
        
        .whatsapp-btn {
            background: var(--dark); color: var(--bronze-glow);
            border: 1px solid var(--bronze-glow); padding: 8px; border-radius: 10px;
            width: 100%; cursor: pointer; font-weight: bold; text-decoration: none;
            font-size: 0.85rem; transition: 0.3s;
        }
        .whatsapp-btn:hover { background: var(--bronze-glow); color: #fff; }

        @media (max-width: 480px) {
            /* في الموبايل الصغير جداً، نجعلهم طبقين في كل سطر لشكل فخم */
            .menu-container { grid-template-columns: repeat(2, 1fr); gap: 10px; padding: 10px; }
            .logo-text { font-size: 2rem; }
        }

        footer { background: var(--dark); color: #888; padding: 40px 20px; text-align: center; margin-top: 50px; font-size: 0.8rem; }
    </style>
</head>
<body>

<header>
    <h1 class="logo-text">شط العرب</h1>
    <p style="color: var(--silver)">نكهة الرافدين في كل لقمة</p>
</header>

<section id="menu">
    <h2 class="section-title">قائمة الطعام</h2>
    <div class="menu-container" id="food-list">
        <p style="grid-column: 1/-1; text-align: center;">جاري تحميل الأطباق الشهية...</p>
    </div>
</section>

<footer>
    <p>© 2026 مطعم شط العرب - طعم الأصالة العراقي</p>
</footer>

<script>
// كود الربط بجدول البيانات - لم يتغير لضمان التحديث التلقائي
const _k = '1laj-jG9Q18PIEkUivgsTG_iZN4nrbZsAnLu_9ZuMyk0';
const _u = `https://docs.google.com/spreadsheets/d/${_k}/gviz/tq?tqx=out:json`;
const phone = "9640000000000"; 

fetch(_u)
    .then(r => r.text())
    .then(d => {
        const j = JSON.parse(d.substring(47, d.length - 2));
        const rows = j.table.rows;
        const list = document.getElementById('food-list');
        list.innerHTML = ''; 

        for (let i = 1; i < rows.length; i++) {
            const c = rows[i].c;
            const n = c[0] ? c[0].v : '';
            const ds = c[1] ? c[1].v : '';
            const p = c[2] ? c[2].v : '';
            const im = c[3] ? c[3].v : '';

            if(n) {
                const waLink = `https://wa.me/${phone}?text=${encodeURIComponent('مرحباً مطعم شط العرب، أود طلب: ' + n)}`;
                
                list.innerHTML += `
                    <div class="menu-card">
                        <img src="${im}" alt="${n}">
                        <div class="card-info">
                            <h3>${n}</h3>
                            <p>${ds}</p>
                            <span class="price">${p} د.ع</span>
                            <a href="${waLink}" target="_blank" class="whatsapp-btn">اطلب الآن</a>
                        </div>
                    </div>`;
            }
        }
    })
    .catch(e => {
        list.innerHTML = '<p>يرجى تحديث الصفحة.</p>';
    });
</script>

</body>
</html>
